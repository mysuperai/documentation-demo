(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{105:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return p})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return o})),a.d(t,"default",(function(){return s}));var r=a(3),n=a(7),l=(a(0),a(204)),p={sidebar_label:"url",title:"scrapy.utils.url"},c={unversionedId:"scrapy/scrapy/utils/url",id:"scrapy/scrapy/utils/url",isDocsHomePage:!1,title:"scrapy.utils.url",description:"This module contains general purpose URL functions not found in the standard",source:"@site/docs/scrapy/scrapy/utils/url.md",sourceDirName:"scrapy/scrapy/utils",slug:"/scrapy/scrapy/utils/url",permalink:"/documentation-demo/docs/scrapy/scrapy/utils/url",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/scrapy/scrapy/utils/url.md",version:"current",sidebar_label:"url",frontMatter:{sidebar_label:"url",title:"scrapy.utils.url"},sidebar:"tutorialSidebar",previous:{title:"scrapy.utils.trackref",permalink:"/documentation-demo/docs/scrapy/scrapy/utils/trackref"}},o=[],m={toc:o};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},m,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"This module contains general purpose URL functions not found in the standard\nlibrary."),Object(l.b)("p",null,"Some of the functions that used to be imported from this module have been moved\nto the w3lib.url module. Always import those from there instead."),Object(l.b)("h4",{id:"url_is_from_any_domain"},"url","_","is","_","from","_","any","_","domain"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"url_is_from_any_domain(url, domains)\n")),Object(l.b)("p",null,"Return True if the url belongs to any of the given domains"),Object(l.b)("h4",{id:"url_is_from_spider"},"url","_","is","_","from","_","spider"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"url_is_from_spider(url, spider)\n")),Object(l.b)("p",null,"Return True if the url belongs to the given spider"),Object(l.b)("h4",{id:"parse_url"},"parse","_","url"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"parse_url(url, encoding=None)\n")),Object(l.b)("p",null,"Return urlparsed url from the given argument (which could be an already\nparsed url)"),Object(l.b)("h4",{id:"escape_ajax"},"escape","_","ajax"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"escape_ajax(url)\n")),Object(l.b)("p",null,"Return the crawleable url according to:\n",Object(l.b)("a",{parentName:"p",href:"https://developers.google.com/webmasters/ajax-crawling/docs/getting-started"},"https://developers.google.com/webmasters/ajax-crawling/docs/getting-started")),Object(l.b)("p",null,">",">",">"," escape",Object(l.b)("em",{parentName:"p"},"ajax(",'"',Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html#!key=value"},"www.example.com/ajax.html#!key=value"),'"',")\n","'",Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html?_escaped_fragment"},"www.example.com/ajax.html?_escaped_fragment")),"=key%3Dvalue","'","\n",">",">",">"," escape",Object(l.b)("em",{parentName:"p"},"ajax(",'"',Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html?k1=v1&k2=v2#!key=value"},"www.example.com/ajax.html?k1=v1","&","k2=v2#!key=value"),'"',")\n","'",Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html?k1=v1&k2=v2&_escaped_fragment"},"www.example.com/ajax.html?k1=v1","&","k2=v2","&","_escaped_fragment")),"=key%3Dvalue","'","\n",">",">",">"," escape",Object(l.b)("em",{parentName:"p"},"ajax(",'"',Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html?#!key=value"},"www.example.com/ajax.html?#!key=value"),'"',")\n","'",Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html?_escaped_fragment"},"www.example.com/ajax.html?_escaped_fragment")),"=key%3Dvalue","'","\n",">",">",">"," escape",Object(l.b)("em",{parentName:"p"},"ajax(",'"',Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html#!"},"www.example.com/ajax.html#!"),'"',")\n","'",Object(l.b)("a",{parentName:"em",href:"http://www.example.com/ajax.html?_escaped_fragment"},"www.example.com/ajax.html?_escaped_fragment")),"=","'"),Object(l.b)("p",null,"URLs that are not ",'"',"AJAX crawlable",'"'," (according to Google) returned as-is:"),Object(l.b)("p",null,">",">",">"," escape_ajax(",'"',Object(l.b)("a",{parentName:"p",href:"http://www.example.com/ajax.html#key=value"},"www.example.com/ajax.html#key=value"),'"',")\n","'",Object(l.b)("a",{parentName:"p",href:"http://www.example.com/ajax.html#key=value&#x27"},"www.example.com/ajax.html#key=value","'"),";\n",">",">",">"," escape_ajax(",'"',Object(l.b)("a",{parentName:"p",href:"http://www.example.com/ajax.html#"},"www.example.com/ajax.html#"),'"',")\n","'",Object(l.b)("a",{parentName:"p",href:"http://www.example.com/ajax.html#&#x27"},"www.example.com/ajax.html#","'"),";\n",">",">",">"," escape_ajax(",'"',Object(l.b)("a",{parentName:"p",href:"http://www.example.com/ajax.html"},"www.example.com/ajax.html"),'"',")\n","'",Object(l.b)("a",{parentName:"p",href:"http://www.example.com/ajax.html&#x27"},"www.example.com/ajax.html","'"),";"),Object(l.b)("h4",{id:"add_http_if_no_scheme"},"add","_","http","_","if","_","no","_","scheme"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"add_http_if_no_scheme(url)\n")),Object(l.b)("p",null,"Add http as the default scheme if it is missing from the url."),Object(l.b)("h4",{id:"guess_scheme"},"guess","_","scheme"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"guess_scheme(url)\n")),Object(l.b)("p",null,"Add an URL scheme if missing: file:// for filepath-like input or\nhttp:// otherwise."),Object(l.b)("h4",{id:"strip_url"},"strip","_","url"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-python"},"strip_url(url, strip_credentials=True, strip_default_port=True, origin_only=False, strip_fragment=True)\n")),Object(l.b)("p",null,"Strip URL string from some of its components:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"strip_credentials")," removes ",'"',"user:password@",'"'),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"strip_default_port")," removes ",'"',":80",'"'," (resp. ",'"',":443",'"',", ",'"',":21",'"',")\nfrom http:// (resp. https://, ftp://) URLs"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"origin_only")," replaces path component with ",'"',"/",'"',", also dropping\nquery and fragment components ; it also strips credentials"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"strip_fragment")," drops any #fragment component")))}s.isMDXComponent=!0},204:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return d}));var r=a(0),n=a.n(r);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var m=n.a.createContext({}),s=function(e){var t=n.a.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},i=function(e){var t=s(e.components);return n.a.createElement(m.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},b=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),i=s(a),b=r,d=i["".concat(p,".").concat(b)]||i[b]||u[b]||l;return a?n.a.createElement(d,c(c({ref:t},m),{},{components:a})):n.a.createElement(d,c({ref:t},m))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,p=new Array(l);p[0]=b;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:r,p[1]=c;for(var m=2;m<l;m++)p[m]=a[m];return n.a.createElement.apply(null,p)}return n.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);