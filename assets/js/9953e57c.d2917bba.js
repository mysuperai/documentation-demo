(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{159:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(3),r=n(7),o=(n(0),n(204)),l={sidebar_label:"python",title:"scrapy.utils.python"},i={unversionedId:"scrapy/scrapy/utils/python",id:"scrapy/scrapy/utils/python",isDocsHomePage:!1,title:"scrapy.utils.python",description:"This module contains essential stuff that should&#x27;ve come with Python itself ;)",source:"@site/docs/scrapy/scrapy/utils/python.md",sourceDirName:"scrapy/scrapy/utils",slug:"/scrapy/scrapy/utils/python",permalink:"/documentation-demo/docs/scrapy/scrapy/utils/python",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/scrapy/scrapy/utils/python.md",version:"current",sidebar_label:"python",frontMatter:{sidebar_label:"python",title:"scrapy.utils.python"},sidebar:"tutorialSidebar",previous:{title:"scrapy.utils.project",permalink:"/documentation-demo/docs/scrapy/scrapy/utils/project"},next:{title:"scrapy.utils.reactor",permalink:"/documentation-demo/docs/scrapy/scrapy/utils/reactor"}},c=[{value:"MutableChain Objects",id:"mutablechain-objects",children:[]}],s={toc:c};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This module contains essential stuff that should","'","ve come with Python itself ;)"),Object(o.b)("h4",{id:"flatten"},"flatten"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"flatten(x)\n")),Object(o.b)("p",null,"flatten(sequence) -",">"," list"),Object(o.b)("p",null,"Returns a single, flat list which contains all elements retrieved\nfrom the sequence and all recursively contained sub-sequences\n(iterables)."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Examples"),":"),Object(o.b)("p",null,"  ",">",">",">"," [1, 2, ","[3,4]",", (5,6)]\n[1, 2, ","[3, 4]",", (5, 6)]\n",">",">",">"," flatten([[","[1,2,3]",", (42,None)], ","[4,5]",", ","[6]",", 7, (8,9,10)])\n","[1, 2, 3, 42, None, 4, 5, 6, 7, 8, 9, 10]","\n",">",">",">"," flatten(",'["',"foo",'"',", ",'"',"bar",'"]',")\n","['","foo","'",", ","'","bar","']","\n",">",">",">"," flatten([",'"',"foo",'"',", ",'["',"baz",'"',", 42]",", ",'"',"bar",'"',"])\n","['","foo","'",", ","'","baz","'",", 42, ","'","bar","']"),Object(o.b)("h4",{id:"iflatten"},"iflatten"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"iflatten(x)\n")),Object(o.b)("p",null,"iflatten(sequence) -",">"," iterator"),Object(o.b)("p",null,"Similar to ",Object(o.b)("inlineCode",{parentName:"p"},".flatten()"),", but returns iterator instead"),Object(o.b)("h4",{id:"is_listlike"},"is","_","listlike"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"is_listlike(x)\n")),Object(o.b)("p",null,">",">",">"," is_listlike(",'"',"foo",'"',")\nFalse\n",">",">",">"," is_listlike(5)\nFalse\n",">",">",">"," is_listlike(b",'"',"foo",'"',")\nFalse\n",">",">",">"," is_listlike(","[b",'"',"foo",'"]',")\nTrue\n",">",">",">"," is_listlike((b",'"',"foo",'"',",))\nTrue\n",">",">",">"," is_listlike({})\nTrue\n",">",">",">"," is_listlike(set())\nTrue\n",">",">",">"," is_listlike((x for x in range(3)))\nTrue\n",">",">",">"," is_listlike(range(5))\nTrue"),Object(o.b)("h4",{id:"unique"},"unique"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"unique(list_, key=lambda x: x)\n")),Object(o.b)("p",null,"efficient function to uniquify a list preserving item order"),Object(o.b)("h4",{id:"to_unicode"},"to","_","unicode"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"to_unicode(text, encoding=None, errors='strict')\n")),Object(o.b)("p",null,"Return the unicode representation of a bytes object ",Object(o.b)("inlineCode",{parentName:"p"},"text"),". If\n",Object(o.b)("inlineCode",{parentName:"p"},"text")," is already an unicode object, return it as-is."),Object(o.b)("h4",{id:"to_bytes"},"to","_","bytes"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"to_bytes(text, encoding=None, errors='strict')\n")),Object(o.b)("p",null,"Return the binary representation of ",Object(o.b)("inlineCode",{parentName:"p"},"text"),". If ",Object(o.b)("inlineCode",{parentName:"p"},"text"),"\nis already a bytes object, return it as-is."),Object(o.b)("h4",{id:"to_native_str"},"to","_","native","_","str"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"@deprecated('to_unicode')\nto_native_str(text, encoding=None, errors='strict')\n")),Object(o.b)("p",null,"Return str representation of ",Object(o.b)("inlineCode",{parentName:"p"},"text"),"."),Object(o.b)("h4",{id:"re_rsearch"},"re","_","rsearch"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"re_rsearch(pattern, text, chunk_size=1024)\n")),Object(o.b)("p",null,"This function does a reverse search in a text using a regular expression\ngiven in the attribute ","'","pattern","'",".\nSince the re module does not provide this functionality, we have to find for\nthe expression into chunks of text extracted from the end (for the sake of efficiency).\nAt first, a chunk of ","'","chunk_size","'"," kilobytes is extracted from the end, and searched for\nthe pattern. If the pattern is not found, another chunk is extracted, and another\nsearch is performed.\nThis process continues until a match is found, or until the whole file is read.\nIn case the pattern wasn","'","t found, None is returned, otherwise it returns a tuple containing\nthe start position of the match, and the ending (regarding the entire text)."),Object(o.b)("h4",{id:"memoizemethod_noargs"},"memoizemethod","_","noargs"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"memoizemethod_noargs(method)\n")),Object(o.b)("p",null,"Decorator to cache the result of a method (without arguments) using a\nweak reference to its object"),Object(o.b)("h4",{id:"binary_is_text"},"binary","_","is","_","text"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"binary_is_text(data)\n")),Object(o.b)("p",null,"Returns ",Object(o.b)("inlineCode",{parentName:"p"},"True")," if the given ",Object(o.b)("inlineCode",{parentName:"p"},"data")," argument (a ",Object(o.b)("inlineCode",{parentName:"p"},"bytes")," object)\ndoes not contain unprintable control characters."),Object(o.b)("h4",{id:"get_func_args"},"get","_","func","_","args"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"get_func_args(func, stripself=False)\n")),Object(o.b)("p",null,"Return the argument name list of a callable"),Object(o.b)("h4",{id:"get_spec"},"get","_","spec"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"get_spec(func)\n")),Object(o.b)("p",null,"Returns (args, kwargs) tuple for a function\n",">",">",">"," import re\n",">",">",">"," get_spec(re.match)\n(","['","pattern","'",", ","'","string","']",", {","'","flags","'",": 0})"),Object(o.b)("p",null,">",">",">"," class Test:\n...     def ",Object(o.b)("strong",{parentName:"p"},"call"),"(self, val):\n...         pass\n...     def method(self, val, flags=0):\n...         pass"),Object(o.b)("p",null,">",">",">"," get_spec(Test)\n(","['","self","'",", ","'","val","']",", {})"),Object(o.b)("p",null,">",">",">"," get_spec(Test.method)\n(","['","self","'",", ","'","val","']",", {","'","flags","'",": 0})"),Object(o.b)("p",null,">",">",">"," get_spec(Test().method)\n(","['","self","'",", ","'","val","']",", {","'","flags","'",": 0})"),Object(o.b)("h4",{id:"equal_attributes"},"equal","_","attributes"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"equal_attributes(obj1, obj2, attributes)\n")),Object(o.b)("p",null,"Compare two objects attributes"),Object(o.b)("h4",{id:"retry_on_eintr"},"retry","_","on","_","eintr"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"@deprecated\nretry_on_eintr(function, *args, **kw)\n")),Object(o.b)("p",null,"Run a function and retry it while getting EINTR errors"),Object(o.b)("h4",{id:"without_none_values"},"without","_","none","_","values"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"without_none_values(iterable)\n")),Object(o.b)("p",null,"Return a copy of ",Object(o.b)("inlineCode",{parentName:"p"},"iterable")," with all ",Object(o.b)("inlineCode",{parentName:"p"},"None")," entries removed."),Object(o.b)("p",null,"If ",Object(o.b)("inlineCode",{parentName:"p"},"iterable")," is a mapping, return a dictionary where all pairs that have\nvalue ",Object(o.b)("inlineCode",{parentName:"p"},"None")," have been removed."),Object(o.b)("h4",{id:"global_object_name"},"global","_","object","_","name"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"global_object_name(obj)\n")),Object(o.b)("p",null,"Return full name of a global object."),Object(o.b)("p",null,">",">",">"," from scrapy import Request\n",">",">",">"," global_object_name(Request)\n","'","scrapy.http.request.Request","'"),Object(o.b)("h2",{id:"mutablechain-objects"},"MutableChain Objects"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},"class MutableChain(Iterable)\n")),Object(o.b)("p",null,"Thin wrapper around itertools.chain, allowing to add iterables ",'"',"in-place",'"'))}b.isMDXComponent=!0},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=b(n),d=a,m=p["".concat(l,".").concat(d)]||p[d]||u[d]||o;return n?r.a.createElement(m,i(i({ref:t},s),{},{components:n})):r.a.createElement(m,i({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);